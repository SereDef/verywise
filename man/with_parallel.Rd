% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/parallel_helpers.R
\name{with_parallel}
\alias{with_parallel}
\title{Run a chunked foreach loop sequentially or in parallel}
\usage{
with_parallel(n_cores, expr, progress_file = NULL, seed = 3108, verbose = TRUE)
}
\arguments{
\item{n_cores}{Integer number of CPU cores to use. Values greater than
1 enable parallel execution via a fork cluster; 1 forces sequential
execution via \code{registerDoSEQ()}.}

\item{expr}{An expression to be evaluated in parallel or in sequence.}

\item{progress_file}{Optional character string specifying a log file path.
If \code{NULL}, worker output is discarded.}

\item{seed}{Optional integer seed for reproducible \code{\%dopar\%} loops
via \code{doRNG::registerDoRNG()}.}

\item{verbose}{Logical; if \code{TRUE}, prints basic messages about the
selected execution mode.}
}
\value{
Invisibly returns \code{NULL}. Side effects are produced by \code{expr}.
}
\description{
Helper to execute a vertex-chunk loop either sequentially (e.g. for profiling)
or in parallel using \code{foreach} and \code{doParallel}. The expression
passed in \code{expr} is evaluated for each chunk in \code{chuck_seq}.
}
\details{
TMP: On Unix-like systems, a fork cluster is used for parallel execution
(type \code{"FORK"}). On non-Unix systems this will fail anyay while
FreeSurfer is required.
}
\author{
Serena Defina, 2026.
}
