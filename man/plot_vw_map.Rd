% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot_vw_map.R
\name{plot_vw_map}
\alias{plot_vw_map}
\title{Plot vertex-wise coefficient maps on a 3D cortical surface}
\usage{
plot_vw_map(
  res_dir,
  term,
  hemi = c("lh", "rh"),
  measure = "area",
  surface = c("inflated", "pial"),
  outline_rois = NULL,
  fs_home = Sys.getenv("FREESURFER_HOME"),
  show_in_browser = TRUE
)
}
\arguments{
\item{res_dir}{Character. Path to the directory containing Freesurfer-style
vertex-wise result files (\verb{*.mgh}).}

\item{term}{Character. Name of the model term to visualize (matches entries
in \code{stack_names.txt}).}

\item{hemi}{Character. Hemisphere to plot (\code{"lh"} or \code{"rh"}).}

\item{measure}{Character. Surface measure, e.g. \code{'area'}, \code{'thickness'},
\code{'volume'}. Defaults to \code{'area'}.}

\item{surface}{Character. Surface mesh to plot on (\code{"inflated"} or \code{"pial"}). Deaults
to \code{"inflated"}.}

\item{outline_rois}{Optional character vector. ROI names to outline on the
surface plot. You can use call \code{verywise::locate_roi()} to see the names of all
available ROIs.}

\item{fs_home}{Character. Path to the Freesurfer installation (\verb{$FREESURFER_HOME}).}

\item{show_in_browser}{Logical (default = TRUE). Open the Figure in browser.
This can be invoked manually as well using \verb{$show()}.}
}
\value{
A \code{plotly.graph_objects.Figure} (Python object) that can be displayed
or further modified via \code{reticulate}.
}
\description{
Visualize vertex-wise statistical coefficient maps (e.g., LMM fixed effects)
on the FreeSurfer fsaverage cortical surface using Python's
\strong{\code{nilearn}} and \strong{\code{plotly}} backends via \code{{reticulate}}.

Optionally, outlines specific cortical regions of interest (ROIs)
using FreeSurfer annotation information (i.e. 36 regions Desikan-Killiany atlas).
}
\details{
The function:
\enumerate{
\item Locates the appropriate MGH files for a given model term and hemisphere.
\item Loads them with \strong{nibabel} via \code{{reticulate}}.
\item Displays the coefficient map interactively on the fsaverage inflated surface
using \strong{\code{nilearn}}â€™s \code{plot_surf_stat_map()} (Plotly engine).
\item Optionally outlines regions from the Freesurfer annotation (via \code{verywise}).
}

Python dependencies (\code{nibabel}, \code{nilearn}, \code{matplotlib}, \code{plotly}, \code{numpy})
must be installed in the active \code{{reticulate}} environment.
}
\examples{
\dontshow{if (rlang::is_installed("reticulate") && dir.exists("~/results/fs_results")) withAutoprint(\{ # examplesIf}
# Example usage (requires FreeSurfer fsaverage and precomputed MGH maps)
fs_home <- Sys.getenv("FREESURFER_HOME")
surf_fig <- plot_vw_map(
  res_dir = "~/results/fs_results",
  term = "age",
  hemi = "lh",
  measure = "area",
  outline_rois = c("entorhinal", "precuneus"),
  fs_home = fs_home)
\dontshow{\}) # examplesIf}
}
